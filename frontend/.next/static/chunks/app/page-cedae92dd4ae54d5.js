(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4931:(e,t,s)=>{Promise.resolve().then(s.bind(s,2663)),Promise.resolve().then(s.bind(s,8556)),Promise.resolve().then(s.bind(s,5962)),Promise.resolve().then(s.bind(s,3808)),Promise.resolve().then(s.bind(s,2082)),Promise.resolve().then(s.bind(s,6291))},2663:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var r=s(3365),i=s(5338),a=s(6871),l=s(4377);function n(){let{reset:e}=(0,l.m)();return(0,r.jsx)("div",{className:"fixed bottom-24 left-4 right-4 z-40 max-w-lg mx-auto",children:(0,r.jsxs)(i.default,{href:"/services",onClick:()=>{e()},className:"flex items-center justify-between w-full bg-white text-black font-semibold py-4 px-6 rounded-2xl shadow-2xl shadow-white/10 active:scale-[0.98] transition-transform",children:[(0,r.jsx)("span",{className:"text-[15px]",children:"Записаться"}),(0,r.jsx)(a.A,{className:"w-5 h-5"})]})})}},8556:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var r=s(3365),i=s(7642),a=s(5338),l=s(7906);function n(){return(0,r.jsxs)("header",{className:"relative w-full h-[50vh] min-h-[400px] overflow-hidden",children:[(0,r.jsxs)("div",{className:"absolute inset-0",children:[(0,r.jsx)("img",{alt:"Barbershop",className:"w-full h-full object-cover",src:"https://images.unsplash.com/photo-1621605815971-fbc98d665033?w=800&q=80"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-bg via-bg/60 to-transparent"})]}),(0,r.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-6 pb-12",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-text-muted text-xs font-medium tracking-widest uppercase mb-2",children:"Барбершоп"}),(0,r.jsx)("h1",{className:"text-4xl font-bold text-white tracking-tight leading-none",children:"Black Beard"})]}),(0,r.jsxs)(a.default,{href:"/location",className:"inline-flex items-center gap-2 bg-bg-card/80 backdrop-blur-sm px-3 py-2 rounded-full border border-border hover:border-border-hover transition-colors",children:[(0,r.jsx)(i.A,{className:"w-3.5 h-3.5 text-text-secondary"}),(0,r.jsx)("span",{className:"text-text-secondary text-sm",children:l.DH.address.short})]})]})})]})}},5962:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var r=s(3365),i=s(5338),a=s(9262),l=s(7609);function n(){return(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)(i.default,{href:"/bookings",className:"flex items-center gap-3 p-4 bg-bg-card rounded-2xl border border-border hover:border-border-hover transition-colors",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-xl bg-bg-elevated flex items-center justify-center",children:(0,r.jsx)(a.A,{className:"w-5 h-5 text-text-secondary"})}),(0,r.jsx)("span",{className:"text-white text-sm font-medium",children:"Мои записи"})]}),(0,r.jsxs)(i.default,{href:"/promotions",className:"flex items-center gap-3 p-4 bg-bg-card rounded-2xl border border-border hover:border-border-hover transition-colors",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-xl bg-bg-elevated flex items-center justify-center",children:(0,r.jsx)(l.A,{className:"w-5 h-5 text-text-secondary"})}),(0,r.jsx)("span",{className:"text-white text-sm font-medium",children:"Акции"})]})]})}},3808:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var r=s(3365),i=s(5338),a=s(6733),l=s(7339),n=s(9714),c=s(4377);function o(){let{reset:e,addService:t,setEntryPoint:s}=(0,c.m)(),o=n.$.filter(e=>e.popular).slice(0,3),d=r=>{e(),t(r),s("services")};return(0,r.jsxs)("section",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Популярные услуги"}),(0,r.jsxs)(i.default,{href:"/services",className:"flex items-center gap-1 text-text-secondary text-sm active:text-white",children:["Все",(0,r.jsx)(a.A,{className:"w-4 h-4"})]})]}),(0,r.jsx)("div",{className:"space-y-2",children:o.map(e=>{let t=e.icon;return(0,r.jsxs)(i.default,{href:"/book/barber",onClick:()=>d(e),className:"flex items-center justify-between p-4 bg-bg-card rounded-2xl border border-border active:border-border-hover transition-colors group",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 min-w-0",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-xl bg-bg-elevated flex items-center justify-center flex-shrink-0",children:(0,r.jsx)(t,{className:"w-5 h-5 text-text-secondary"})}),(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsx)("h3",{className:"text-white font-medium text-[15px] truncate",children:e.name}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5 mt-0.5",children:[(0,r.jsx)(l.A,{className:"w-3 h-3 text-text-muted"}),(0,r.jsxs)("span",{className:"text-text-muted text-xs",children:[e.duration," мин"]})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("span",{className:"text-white font-semibold",children:[e.price," ₽"]}),(0,r.jsx)(a.A,{className:"w-4 h-4 text-text-muted"})]})]},e.id)})})]})}},2082:(e,t,s)=>{"use strict";s.d(t,{default:()=>c});var r=s(3365),i=s(5338),a=s(6733),l=s(3277),n=s(4377);function c(){let{setBarber:e,setEntryPoint:t,reset:s}=(0,n.m)(),c=l.i_.filter(e=>e.isAvailable).slice(0,4),o=r=>{s(),e(r),t("barber")};return(0,r.jsxs)("section",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Мастера"}),(0,r.jsxs)(i.default,{href:"/book/barber",className:"flex items-center gap-1 text-text-secondary text-sm active:text-white",children:["Все",(0,r.jsx)(a.A,{className:"w-4 h-4"})]})]}),(0,r.jsx)("div",{className:"flex gap-3 overflow-x-auto -mx-4 px-4 pb-2 no-scrollbar",children:c.map(e=>(0,r.jsx)(i.default,{href:"/services",onClick:()=>o(e),className:"flex-shrink-0 w-28 group",children:(0,r.jsxs)("div",{className:"relative aspect-[3/4] rounded-2xl overflow-hidden bg-bg-card mb-2",children:[(0,r.jsx)("img",{alt:e.name,className:"w-full h-full object-cover transition-transform duration-300 group-active:scale-105",src:e.image}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),(0,r.jsxs)("div",{className:"absolute bottom-2 left-2 right-2",children:[(0,r.jsx)("p",{className:"text-white text-sm font-medium truncate",children:e.name.split(" ")[0]}),(0,r.jsxs)("p",{className:"text-text-muted text-[11px]",children:[e.rating," ★"]})]})]})},e.id))})]})}},6291:(e,t,s)=>{"use strict";s.d(t,{default:()=>m});var r=s(3365),i=s(5338),a=s(5840),l=s(7637),n=s(9262),c=s(2648),o=s(913);let d=[{href:"/",icon:l.A,label:"Главная"},{href:"/bookings",icon:n.A,label:"Записи"},{href:"/profile",icon:c.A,label:"Профиль"}];function m(){let e=(0,a.usePathname)();return(0,r.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 z-50 glass border-t border-border safe-bottom",children:(0,r.jsx)("div",{className:"flex items-center justify-around h-16 max-w-lg mx-auto",children:d.map(t=>{let s=e===t.href;return(0,r.jsxs)(i.default,{href:t.href,className:(0,o.A)("flex flex-col items-center justify-center w-20 h-full transition-all",s?"text-white":"text-text-muted hover:text-text-secondary"),children:[(0,r.jsx)(t.icon,{className:(0,o.A)("w-5 h-5 mb-1 transition-transform",s&&"scale-110"),strokeWidth:s?2.5:2}),(0,r.jsx)("span",{className:(0,o.A)("text-[10px] font-medium tracking-wide",s&&"font-semibold"),children:t.label}),s&&(0,r.jsx)("div",{className:"absolute top-0 w-12 h-0.5 bg-white rounded-full"})]},t.href)})})})}},3277:(e,t,s)=>{"use strict";s.d(t,{i_:()=>r});let r=[{id:"alexey",name:"Алексей Волков",role:"Топ-мастер",rating:4.9,reviewCount:312,experience:"8 лет",specialties:["Классика","Фейд","Борода"],image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400",isVerified:!0,isAvailable:!0},{id:"dmitry",name:"Дмитрий Козлов",role:"Старший барбер",rating:4.8,reviewCount:245,experience:"6 лет",specialties:["Креатив","Борода","Окрашивание"],image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400",isVerified:!0,isAvailable:!0},{id:"ivan",name:"Иван Петров",role:"Барбер",rating:4.7,reviewCount:156,experience:"4 года",specialties:["Классика","Короткие стрижки"],image:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=400",isVerified:!1,isAvailable:!0},{id:"maxim",name:"Максим Соколов",role:"Барбер",rating:4.6,reviewCount:89,experience:"3 года",specialties:["Фейд","Молодёжные стрижки"],image:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=400",isVerified:!1,isAvailable:!1}]},9714:(e,t,s)=>{"use strict";s.d(t,{$:()=>m});var r=s(7932),i=s(588),a=s(7979),l=s(5928),n=s(8418),c=s(9863),o=s(1180),d=s(7569);let m=[{id:"classic-haircut",name:"Классическая стрижка",description:"Стрижка машинкой и ножницами, укладка",price:2500,duration:45,category:"haircut",icon:r.A,popular:!0},{id:"fade",name:"Фейд",description:"Плавный переход от кожи",price:2800,duration:50,category:"haircut",icon:i.A},{id:"crop",name:"Кроп",description:"Короткая текстурная стрижка",price:2500,duration:40,category:"haircut",icon:a.A},{id:"beard-trim",name:"Моделирование бороды",description:"Стрижка и оформление бороды",price:1500,duration:30,category:"beard",icon:l.A},{id:"royal-shave",name:"Королевское бритьё",description:"Опасная бритва, горячие полотенца",price:2e3,duration:40,category:"beard",icon:n.A,popular:!0},{id:"haircut-beard-combo",name:"Стрижка + борода",description:"Полный уход: стрижка и оформление бороды",price:3500,duration:75,category:"complex",icon:c.A,popular:!0},{id:"father-son",name:"Отец и сын",description:"Две стрижки по специальной цене",price:4e3,duration:90,category:"complex",icon:r.A},{id:"hair-wash",name:"Мытьё и укладка",description:"Мытьё головы и стайлинг",price:800,duration:20,category:"additional",icon:o.A},{id:"hair-coloring",name:"Камуфляж седины",description:"Лёгкое тонирование",price:1500,duration:30,category:"additional",icon:d.A}]},7906:(e,t,s)=>{"use strict";s.d(t,{DH:()=>r,TF:()=>i,VZ:()=>a,Wk:()=>l});let r={name:"Black Beard",tagline:"Премиум барбершоп",address:{street:"ул. Тверская, 15",city:"Москва",metro:"м. Пушкинская",short:"Тверская 15, Пушкинская",full:"Москва, ул. Тверская, 15 (м. Пушкинская)"},phone:"+7 (495) 123-45-67",phoneClean:"+74951234567",workHours:{weekdays:"10:00 - 22:00",saturday:"10:00 - 21:00",sunday:"11:00 - 20:00"},mapsUrl:"https://yandex.ru/maps/-/CDuOzK~V",mapImage:"https://static-maps.yandex.ru/1.x/?ll=37.606628,55.763969&z=16&l=map&size=450,300&pt=37.606628,55.763969,pm2rdm",schedule:[{day:"Понедельник",hours:"10:00 – 22:00",open:"10:00",close:"22:00",isToday:!1},{day:"Вторник",hours:"10:00 – 22:00",open:"10:00",close:"22:00",isToday:!1},{day:"Среда",hours:"10:00 – 22:00",open:"10:00",close:"22:00",isToday:!1},{day:"Четверг",hours:"10:00 – 22:00",open:"10:00",close:"22:00",isToday:!1},{day:"Пятница",hours:"10:00 – 22:00",open:"10:00",close:"22:00",isToday:!1},{day:"Суббота",hours:"10:00 – 21:00",open:"10:00",close:"21:00",isToday:!1},{day:"Воскресенье",hours:"11:00 – 20:00",open:"11:00",close:"20:00",isToday:!1}],social:{instagram:"@blackbeard_moscow",telegram:"@blackbeard_bot",vk:"vk.com/blackbeard_moscow"}};function i(){let e=new Date().getDay(),t=r.schedule[0===e?6:e-1];return{open:t.open,close:t.close,hours:t.hours}}function a(){let e=new Date,t=i(),[s,r]=t.open.split(":").map(Number),[a,l]=t.close.split(":").map(Number),n=60*e.getHours()+e.getMinutes();return n>=60*s+r&&n<60*a+l}function l(e){let t=new Date;return t.setDate(t.getDate()+e),t}},4377:(e,t,s)=>{"use strict";s.d(t,{m:()=>c});var r=s(9117),i=s(3547);class a{async request(e,t){let s=await fetch("".concat(this.baseUrl).concat(e),{...t,headers:{"Content-Type":"application/json",...null==t?void 0:t.headers}});if(!s.ok)throw Error("API Error: ".concat(s.status));return s.json()}async getServices(){return this.request("/api/services")}async getPopularServices(){return this.request("/api/services/popular")}async getBarbers(){return this.request("/api/barbers")}async getBarber(e){return this.request("/api/barbers/".concat(e))}async createBooking(e){return this.request("/api/bookings",{method:"POST",body:JSON.stringify(e)})}async getUserBookings(e){return this.request("/api/bookings/user/".concat(e))}async cancelBooking(e){return this.request("/api/bookings/".concat(e),{method:"DELETE"})}async validateInitData(e){return this.request("/api/auth/validate",{method:"POST",body:JSON.stringify({init_data:e})})}constructor(){this.baseUrl="http://localhost:8000"}}let l=new a,n={selectedServices:[],selectedBarber:null,selectedDate:null,selectedTime:null,entryPoint:null,isSubmitting:!1},c=(0,r.v)()((0,i.Zr)((e,t)=>({...n,setServices:t=>e({selectedServices:t}),addService:t=>e(e=>({selectedServices:[...e.selectedServices,t]})),removeService:t=>e(e=>({selectedServices:e.selectedServices.filter(e=>e.id!==t)})),toggleService:e=>{t().selectedServices.some(t=>t.id===e.id)?t().removeService(e.id):t().addService(e)},setBarber:t=>e({selectedBarber:t}),setDate:t=>e({selectedDate:t}),setTime:t=>e({selectedTime:t}),setEntryPoint:t=>e({entryPoint:t}),getTotalPrice:()=>t().selectedServices.reduce((e,t)=>e+t.price,0),getTotalDuration:()=>t().selectedServices.reduce((e,t)=>e+t.duration,0),submitBooking:async()=>{let s=t(),r=function(){var e,t,s;return(null===(s=window.Telegram)||void 0===s?void 0:null===(t=s.WebApp)||void 0===t?void 0:null===(e=t.initDataUnsafe)||void 0===e?void 0:e.user)||null}();if(!s.selectedBarber||!s.selectedDate||!s.selectedTime)return!1;e({isSubmitting:!0});try{return await l.createBooking({telegram_id:(null==r?void 0:r.id)||0,chat_id:function(){var e,t,s;let r=null===(s=window.Telegram)||void 0===s?void 0:null===(t=s.WebApp)||void 0===t?void 0:null===(e=t.initDataUnsafe)||void 0===e?void 0:e.user;return(null==r?void 0:r.id)||0}(),first_name:(null==r?void 0:r.first_name)||"Guest",username:null==r?void 0:r.username,barber_id:parseInt(s.selectedBarber.id),service_ids:s.selectedServices.map(e=>parseInt(e.id)),date:s.selectedDate.toISOString(),time:s.selectedTime,total_price:s.getTotalPrice(),total_duration:s.getTotalDuration()}),!0}catch(e){return console.error("Booking error:",e),!1}finally{e({isSubmitting:!1})}},reset:()=>e(n),isServiceSelected:e=>t().selectedServices.some(t=>t.id===e)}),{name:"booking-storage",partialize:e=>({selectedServices:e.selectedServices,selectedBarber:e.selectedBarber})}))}},e=>{var t=t=>e(e.s=t);e.O(0,[608,956,347,239,358],()=>t(4931)),_N_E=e.O()}]);