exports.id=742,exports.ids=[742],exports.modules={5450:(e,t,r)=>{Promise.resolve().then(r.bind(r,8487))},5618:(e,t,r)=>{Promise.resolve().then(r.bind(r,3028))},790:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,1547,23)),Promise.resolve().then(r.t.bind(r,647,23)),Promise.resolve().then(r.t.bind(r,4283,23)),Promise.resolve().then(r.t.bind(r,4238,23)),Promise.resolve().then(r.t.bind(r,6209,23)),Promise.resolve().then(r.t.bind(r,4362,23)),Promise.resolve().then(r.t.bind(r,4865,23))},3998:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6715,23)),Promise.resolve().then(r.t.bind(r,6935,23)),Promise.resolve().then(r.t.bind(r,9403,23)),Promise.resolve().then(r.t.bind(r,3278,23)),Promise.resolve().then(r.t.bind(r,1977,23)),Promise.resolve().then(r.t.bind(r,4282,23)),Promise.resolve().then(r.t.bind(r,8153,23))},1014:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2598,23))},4574:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3846,23))},3028:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var i=r(3404),s=r(7373);function n({children:e}){return(0,i.jsx)(s.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{ease:"easeInOut",duration:.3},children:e})}},3342:(e,t,r)=>{"use strict";r.d(t,{m:()=>u});var i=r(3877);let s=e=>{let t;let r=new Set,i=(e,i)=>{let s="function"==typeof e?e(t):e;if(!Object.is(s,t)){let e=t;t=(null!=i?i:"object"!=typeof s||null===s)?s:Object.assign({},t,s),r.forEach(r=>r(t,e))}},s=()=>t,n={setState:i,getState:s,getInitialState:()=>a,subscribe:e=>(r.add(e),()=>r.delete(e))},a=t=e(i,s,n);return n},n=e=>e?s(e):s,a=e=>e,o=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>o(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>o(t)(e)}}};class l{constructor(){this.baseUrl="http://localhost:8000"}async request(e,t){let r=await fetch(`${this.baseUrl}${e}`,{...t,headers:{"Content-Type":"application/json",...t?.headers}});if(!r.ok)throw Error(`API Error: ${r.status}`);return r.json()}async getServices(){return this.request("/api/services")}async getPopularServices(){return this.request("/api/services/popular")}async getBarbers(){return this.request("/api/barbers")}async getBarber(e){return this.request(`/api/barbers/${e}`)}async createBooking(e){return this.request("/api/bookings",{method:"POST",body:JSON.stringify(e)})}async getUserBookings(e){return this.request(`/api/bookings/user/${e}`)}async cancelBooking(e){return this.request(`/api/bookings/${e}`,{method:"DELETE"})}async validateInitData(e){return this.request("/api/auth/validate",{method:"POST",body:JSON.stringify({init_data:e})})}}let c=new l,d={selectedServices:[],selectedBarber:null,selectedDate:null,selectedTime:null,entryPoint:null,isSubmitting:!1},u=(e=>{let t=n(e),r=e=>(function(e,t=a){let r=i.useSyncExternalStore(e.subscribe,i.useCallback(()=>t(e.getState()),[e,t]),i.useCallback(()=>t(e.getInitialState()),[e,t]));return i.useDebugValue(r),r})(t,e);return Object.assign(r,t),r})(((e,t)=>(r,i,s)=>{let n,a={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var t;let i=e=>null===e?null:JSON.parse(e,void 0),s=null!=(t=r.getItem(e))?t:null;return s instanceof Promise?s.then(i):i(s)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},l=!1,c=0,d=new Set,u=new Set,m=a.storage;if(!m)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...e)},i,s);let v=()=>{let e=a.partialize({...i()});return m.setItem(a.name,{state:e,version:a.version})},h=s.setState;s.setState=(e,t)=>(h(e,t),v());let b=e((...e)=>(r(...e),v()),i,s);s.getInitialState=()=>b;let g=()=>{var e,t;if(!m)return;let s=++c;l=!1,d.forEach(e=>{var t;return e(null!=(t=i())?t:b)});let h=(null==(t=a.onRehydrateStorage)?void 0:t.call(a,null!=(e=i())?e:b))||void 0;return o(m.getItem.bind(m))(a.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===a.version)return[!1,e.state];if(a.migrate){let t=a.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;if(s!==c)return;let[o,l]=e;if(r(n=a.merge(l,null!=(t=i())?t:b),!0),o)return v()}).then(()=>{s===c&&(null==h||h(n,void 0),n=i(),l=!0,u.forEach(e=>e(n)))}).catch(e=>{s===c&&(null==h||h(void 0,e))})};return s.persist={setOptions:e=>{a={...a,...e},e.storage&&(m=e.storage)},clearStorage:()=>{null==m||m.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>g(),hasHydrated:()=>l,onHydrate:e=>(d.add(e),()=>{d.delete(e)}),onFinishHydration:e=>(u.add(e),()=>{u.delete(e)})},a.skipHydration||g(),n||b})((e,t)=>({...d,setServices:t=>e({selectedServices:t}),addService:t=>e(e=>({selectedServices:[...e.selectedServices,t]})),removeService:t=>e(e=>({selectedServices:e.selectedServices.filter(e=>e.id!==t)})),toggleService:e=>{t().selectedServices.some(t=>t.id===e.id)?t().removeService(e.id):t().addService(e)},setBarber:t=>e({selectedBarber:t}),setDate:t=>e({selectedDate:t}),setTime:t=>e({selectedTime:t}),setEntryPoint:t=>e({entryPoint:t}),getTotalPrice:()=>t().selectedServices.reduce((e,t)=>e+t.price,0),getTotalDuration:()=>t().selectedServices.reduce((e,t)=>e+t.duration,0),submitBooking:async()=>{let r=t();if(!r.selectedBarber||!r.selectedDate||!r.selectedTime)return!1;e({isSubmitting:!0});try{return await c.createBooking({telegram_id:0,chat_id:0,first_name:"Guest",username:void 0,barber_id:parseInt(r.selectedBarber.id),service_ids:r.selectedServices.map(e=>parseInt(e.id)),date:r.selectedDate.toISOString(),time:r.selectedTime,total_price:r.getTotalPrice(),total_duration:r.getTotalDuration()}),!0}catch(e){return console.error("Booking error:",e),!1}finally{e({isSubmitting:!1})}},reset:()=>e(d),isServiceSelected:e=>t().selectedServices.some(t=>t.id===e)}),{name:"booking-storage",partialize:e=>({selectedServices:e.selectedServices,selectedBarber:e.selectedBarber})}))},9743:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,metadata:()=>o});var i=r(6988),s=r(6557),n=r.n(s),a=r(959);r(7190);let o={title:"Black Beard",description:"Премиум барбершоп в Москве"};function l({children:e}){return(0,i.jsxs)("html",{lang:"ru",suppressHydrationWarning:!0,children:[(0,i.jsxs)("head",{children:[(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, viewport-fit=cover"}),(0,i.jsx)("meta",{name:"theme-color",content:"#0a0a0a"}),(0,i.jsx)(a.default,{src:"https://telegram.org/js/telegram-web-app.js",strategy:"beforeInteractive"})]}),(0,i.jsx)("body",{className:`${n().variable} antialiased`,children:e})]})}},8487:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});let i=(0,r(2944).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\projects\\\\vibecode\\\\blackbeard\\\\frontend\\\\app\\\\template.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\projects\\vibecode\\blackbeard\\frontend\\app\\template.tsx","default")},1077:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var i=r(1509);let s=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,i.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},7190:()=>{}};